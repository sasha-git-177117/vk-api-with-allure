# vk-api-with-allure
## Описание задачи
API и UI Тестирование сайта https://vk.com/ и добавление в отчет в Allure шаги со скриншотами. \
В данном проекте тестируется:
1. Авторизация
2. Переход на мою страницу
3. Добавление записи со случайным текстом
4. Проверка добавленного текста
5. Редактирование текста записи и добавление изображения
6. Проверка изменения текста и сравнение картинки с записи с картинкой из шага 5
7. Добавление комментария к записи
8. Проверка наличия добавленного комментария от правильного пользователя
9. Проставление лайка к записи
10. Проверка наличия лайка от правильного пользователя
11. Удаление созданной записи
12. Проверка отсутствия удаленной записи

## Структура проекта
* **src**
    * **main/java/api_utils** - Фреймворк для тестирования API
    * **test** - Часть, связанная с проектом, с объектами страницы, моделями и утилитами
        * **java**
            * **consts** - Константы (Пути к конфигурационным данным, тестовым данным, и Endpoint)
            * **models** - Модели
            * **steps** - Шаги
            * **utils** - Утилиты
            * **tests** - Тесты
            * **pages** - Страницы
        * **resources** - Файлы ресурсов, такие как конфигурации и тестовые данные

## Настройка проекта
Настройка проекта происходит в файле [settings.json](https://github.com/aquality-automation/aquality-selenium-java-template/blob/master/aquality-selenium-template/src/main/resources/settings.json), который содержит в себе настройки Aquality Selenium библиотеки. Дополнительная информация [здесь](https://github.com/aquality-automation/aquality-selenium-java/wiki/Overview-(Russian)). \
В файле resources/configData необходимо заполнить данные **owner_id** и **access_token**, **password** и **login**

## Получение AccessToken
1. Зарегистрироваться или быть зарегистрированным на https://vk.com/
2. Перейти по ссылке https://vk.com/apps?act=manage
3. Создать приложение
4. В появившемся приложении нажать Редактировать, после перейти в настройки
5. Скопировать значение поля ID Приложения
6. Отправить запрос http://oauth.vk.com/authorize?client_id=APP_ID&scope=SCOPE&response_type=token <br/>
   Вместо APP_ID вставить значение из шага 5, вместо SCOPE нужные значения подробнее [здесь](https://dev.vk.com/reference/access-rights) <br/>
7. В адресной строке появится **access_token**

## Запуск тестов
```bash
mvn clean test
```

## Создание отчета
```bash
mvn allure:serve
```

P.S. Данные для отчета сохраняются по пути target/allure-results
